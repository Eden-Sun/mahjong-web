# 捨牌池改進測試指南

## 啟動遊戲

```bash
# 編譯
npm run build

# 啟動預覽服務器
npm run preview
```

瀏覽器訪問：`http://localhost:4173`

---

## 測試項目

### 1️⃣ 中央海底 + 當下牌特顯

#### 測試步驟：
1. 點擊「開始遊戲」
2. 觀察中央牌桌區域

#### 預期結果：
- ✅ 看到「捨牌時間線」區域（深色背景，分左中右三區）
- ✅ 遊戲開始後，第一張出牌顯示在中央特大區：
  - 尺寸：80×110px（明顯比其他牌大）
  - 黃色邊框 + 發光效果
  - 脈衝動畫（輕微放大縮小）
  
#### 觀察要點：
- **自己（東家）出牌**：當下牌顯示在中央下方特大區
- **對家（西家）出牌**：當下牌顯示在中央上方特大區
- **上家（南家）出牌**：當下牌在中央顯示 0.5 秒，然後滑至左邊，變成小牌卡
- **下家（北家）出牌**：當下牌在中央顯示 0.5 秒，然後滑至右邊，變成小牌卡

#### 檢查點：
- [ ] 當下牌有明顯的黃邊和脈衝動畫
- [ ] 上/下家的牌會滑動到側邊
- [ ] 舊牌變成小尺寸（40×60px），透明度降低
- [ ] 每張牌都有箭頭指示（↑東 ←南 ↓西 →北）
- [ ] 箭頭顏色正確（紅藍綠黃）

---

### 2️⃣ 多種吃牌選擇對話框

#### 測試步驟：
1. 繼續遊戲，等待有多種吃牌方式的情況
2. 例如：對方打出 5s，你手中有 3s 4s 6s 7s
3. 點擊「吃」按鈕

#### 預期結果：
- ✅ 彈出選擇對話框（半透明遮罩）
- ✅ 標題：「您可以這樣吃牌：」
- ✅ 顯示兩個選項：
  - 選項 1：[3索-4索-5索] 吃
  - 選項 2：[5索-6索-7索] 吃
- ✅ 底部有「過」按鈕

#### 操作測試：
- [ ] 點擊選項 1 → 執行吃牌，對話框關閉
- [ ] 點擊選項 2 → 執行吃牌，對話框關閉
- [ ] 點擊「過」→ 取消吃牌，對話框關閉

#### 檢查點：
- [ ] 對話框有淡入動畫
- [ ] 牌面清晰可見（萬/索/筒顯示正確）
- [ ] 滑鼠懸停時按鈕有高亮效果
- [ ] 選擇後遊戲流程正常繼續

---

### 3️⃣ 可吃/碰牌高亮效果

#### 測試步驟：
1. 繼續遊戲，等待可以吃或碰的情況
2. 例如：對方打出 5m，你手中有 3m 4m（可吃）或 5m 5m（可碰）

#### 預期結果（可吃）：
- ✅ 海底中的 5m 呈現**紅色**脈衝動畫
- ✅ 紅色邊框（3px）
- ✅ 發光效果（12px → 20px 週期變化）
- ✅ 牌面上方浮動標籤 **"吃"**（紅色背景）

#### 預期結果（可碰）：
- ✅ 海底中的 5m 呈現**橘色**脈衝動畫
- ✅ 橘色邊框（3px）
- ✅ 發光效果（12px → 20px 週期變化）
- ✅ 牌面上方浮動標籤 **"碰"**（橘色背景）

#### 檢查點：
- [ ] 高亮效果明顯，容易被注意到
- [ ] 脈衝動畫流暢，不卡頓
- [ ] 浮動標籤有上下浮動動畫
- [ ] 選擇動作後，高亮效果消失

---

## 邊界情況測試

### 捨牌池過長
- **測試**：遊戲進行 20+ 回合，觀察捨牌池佈局
- **預期**：自動換行，不會溢出容器

### 單一吃法
- **測試**：只有一種吃牌方式時點擊「吃」
- **預期**：直接執行，不彈出對話框

### 無法吃牌
- **測試**：不符合吃牌條件時點擊「吃」
- **預期**：提示「無法吃牌」或按鈕不可點擊

---

## 性能測試

### 動畫性能
- **觀察**：脈衝動畫、滑動動畫是否流暢
- **預期**：60 FPS，無明顯卡頓

### 記憶體使用
- **觀察**：長時間遊戲後（100+ 回合）記憶體是否增長
- **預期**：記憶體穩定，無明顯洩漏

---

## 已知問題

### 問題 1：上/下家當下牌滑動後可能重疊
- **狀態**：已知，待優化
- **臨時解決**：增加側邊區域寬度

### 問題 2：捨牌池超過 50 張時可能性能下降
- **狀態**：已知，待優化
- **建議**：實施虛擬滾動

---

## 回報問題

如發現問題，請記錄：
1. **問題描述**：詳細說明發生了什麼
2. **重現步驟**：如何觸發該問題
3. **預期行為**：應該發生什麼
4. **實際行為**：實際發生了什麼
5. **截圖/錄屏**：如有可能，提供視覺證據
6. **瀏覽器信息**：瀏覽器版本、操作系統

---

## 測試完成檢查清單

- [ ] 中央海底正確顯示
- [ ] 當下牌特顯（黃邊 + 脈衝）正常
- [ ] 上/下家當下牌滑動動畫流暢
- [ ] 多種吃牌選擇對話框正常彈出
- [ ] 吃牌選擇功能正常（選擇/取消）
- [ ] 可吃/碰牌高亮效果明顯
- [ ] 高亮動畫流暢（紅色/橘色脈衝）
- [ ] 浮動標籤顯示正確
- [ ] 無明顯性能問題
- [ ] 無控制台錯誤

---

## 通過標準

✅ **所有測試項目通過** → 可以部署到生產環境

⚠️ **部分測試項目失敗** → 需要修復後再測試

❌ **多數測試項目失敗** → 需要重新實施

---

測試愉快！🎮
